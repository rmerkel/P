# test/fact.p, 1: { Calculate 11 (0..10) factorials }
# test/fact.p, 2: {	 n		    n!	}
# test/fact.p, 3: {  ---  ---------	}
# test/fact.p, 4: {	 0		    0	}
# test/fact.p, 5: {	 1		    1	}
# test/fact.p, 6: {	 2		    2	}
# test/fact.p, 7: {	 3		    6	}
# test/fact.p, 8: {	...				}
# test/fact.p, 9: {	 9	  362,880	}
# test/fact.p, 10: {	10	3,628,800	}
# test/fact.p, 11: 
# test/fact.p, 12: program fact ;
# test/fact.p, 13: const nFacts = 10;
    0: calli 0, 39
    1: halt
# test/fact.p, 14: var p : integer;
# test/fact.p, 15: procedure factorial(n : integer) ; begin
# test/fact.p, 16:         p := 1;
    2: pushvar 1, 4
    3: push 1
    4: assign 1
# test/fact.p, 17: 		writeln(p);
    5: pushvar 1, 4
    6: eval 1
    7: push 1
    8: push 0
    9: push 0
   10: push 1
   11: writeln
# test/fact.p, 18:         while n > 0 do begin
   12: pushvar 0, -1
   13: eval 1
   14: push 0
   15: gt
   16: jneqi 38
# test/fact.p, 19:             p := p * n;
   17: pushvar 1, 4
   18: pushvar 1, 4
   19: eval 1
   20: pushvar 0, -1
   21: eval 1
   22: mul
   23: assign 1
# test/fact.p, 20:             n := n - 1;
   24: pushvar 0, -1
   25: pushvar 0, -1
   26: eval 1
   27: push 1
   28: sub
   29: assign 1
# test/fact.p, 21: 			writeln(p)
   30: pushvar 1, 4
   31: eval 1
   32: push 1
   33: push 0
   34: push 0
# test/fact.p, 22:         end
   35: push 1
   36: writeln
# test/fact.p, 23:     end;
   37: jumpi 12
   38: ret
# test/fact.p, 24: 
# test/fact.p, 25: begin
   39: enter 1
# test/fact.p, 26:     factorial(nFacts)
   40: push 10
# test/fact.p, 27: end.
   41: calli 0, 2
   42: ret

1
10
90
720
5040
30240
151200
604800
1814400
3628800
3628800
