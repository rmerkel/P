# test/pointers.p, 1: program PointerTest() is
# test/pointers.p, 2: var
    0: calli 0, 2
    1: halt
# test/pointers.p, 3: 	xp : ^integer;
# test/pointers.p, 4: 
# test/pointers.p, 5: begin
    2: enter 1
# test/pointers.p, 6: 	xp := nil;
    3: pushvar 0, 4
    4: push 0
    5: assign 1
# test/pointers.p, 7: 	writeln(xp);
    6: pushvar 0, 4
    7: eval 1
    8: push 1
    9: push 0
   10: push 0
   11: put
   12: push '
'
   13: push 1
   14: push 0
   15: push 0
   16: put
# test/pointers.p, 8: 
# test/pointers.p, 9: 	new(xp);
   17: pushvar 0, 4
   18: push 1
   19: new
   20: assign 1
# test/pointers.p, 10: 	writeln(xp);
   21: pushvar 0, 4
   22: eval 1
   23: push 1
   24: push 0
   25: push 0
   26: put
   27: push '
'
   28: push 1
   29: push 0
   30: push 0
   31: put
# test/pointers.p, 11: 	if xp <> nil then
   32: pushvar 0, 4
   33: eval 1
   34: push 0
   35: neq
   36: jneqi 53
# test/pointers.p, 12: 		xp^ := 2048;
   37: pushvar 0, 4
   38: eval 1
   39: push 2048
   40: assign 1
# test/pointers.p, 13: 		writeln(xp^)
   41: pushvar 0, 4
   42: eval 1
   43: eval 1
   44: push 1
   45: push 0
   46: push 0
   47: put
# test/pointers.p, 14: 	endif;
   48: push '
'
   49: push 1
   50: push 0
   51: push 0
   52: put
# test/pointers.p, 15: 
# test/pointers.p, 16: 	xp^ := 0;
   53: pushvar 0, 4
   54: eval 1
   55: push 0
   56: assign 1
# test/pointers.p, 17: 	dispose(xp)
   57: pushvar 0, 4
   58: eval 1
   59: dispose
# test/pointers.p, 18: endprog
# test/pointers.p, 19: 
   60: ret

0
1024
2048
