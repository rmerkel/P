# test/fact2.p, 1: { Calculate 11 (0..10) factorials	}
# test/fact2.p, 2: {	 n		    n!	}
# test/fact2.p, 3: {  ---  ---------	}
# test/fact2.p, 4: {	 0		    0	}
# test/fact2.p, 5: {	 1		    1	}
# test/fact2.p, 6: {	 2		    2	}
# test/fact2.p, 7: {	 3		    6	}
# test/fact2.p, 8: {	...				}
# test/fact2.p, 9: {	 9	  362,880	}
# test/fact2.p, 10: {	10	3,628,800	}
# test/fact2.p, 11: 
# test/fact2.p, 12: program fact2 ;
# test/fact2.p, 13: const nFacts = 10;
    0: push 0
    1: push 34
    2: call
    3: halt
# test/fact2.p, 14: var result : integer;
# test/fact2.p, 15: function factorial(n : integer) : integer ;
# test/fact2.p, 16: 	var p : integer;
# test/fact2.p, 17: 	begin
    4: enter 1
# test/fact2.p, 18: 		p := 1;
    5: pushvar 0, 4
    6: push 1
    7: assign 1
# test/fact2.p, 19: 		while n > 0 do begin
    8: pushvar 0, -1
    9: eval 1
   10: push 0
   11: gt
   12: push 29
   13: jneq
# test/fact2.p, 20: 			p := p * n;
   14: pushvar 0, 4
   15: pushvar 0, 4
   16: eval 1
   17: pushvar 0, -1
   18: eval 1
   19: mul
   20: assign 1
# test/fact2.p, 21: 			n := n - 1;
   21: pushvar 0, -1
   22: pushvar 0, -1
   23: eval 1
   24: push 1
   25: sub
   26: assign 1
# test/fact2.p, 22: 		end;
   27: push 8
   28: jump
# test/fact2.p, 23: 		factorial := p;
   29: pushvar 0, 3
   30: pushvar 0, 4
   31: eval 1
   32: assign 1
# test/fact2.p, 24: 	end;
   33: retf
# test/fact2.p, 25: 
# test/fact2.p, 26: begin
   34: enter 1
# test/fact2.p, 27: 	{ The result is the 10th factorial; 3,628,000	}
# test/fact2.p, 28:     result := factorial(nFacts);
   35: pushvar 0, 4
   36: push 10
   37: push 0
   38: push 4
   39: call
   40: assign 1
# test/fact2.p, 29: 	writeln(result)
   41: pushvar 0, 4
   42: eval 1
   43: push 1
   44: push 0
   45: push 0
# test/fact2.p, 30: end.
   46: push 1
   47: writeln
   48: ret

3628800
